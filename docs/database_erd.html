<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>40Study - Database Schema ERD</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e4e4e4;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .header p {
            color: #8892b0;
            font-size: 1.1rem;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            padding: 15px 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #00d9ff;
        }

        .stat-label {
            color: #8892b0;
            font-size: 0.9rem;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: #8892b0;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .modules-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            max-width: 1800px;
            margin: 0 auto;
        }

        .module {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .module:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .module-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
        }

        .module-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .module-count {
            margin-left: auto;
            background: rgba(255,255,255,0.1);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            color: #8892b0;
        }

        .table-card {
            background: rgba(255,255,255,0.02);
            border-radius: 12px;
            margin-bottom: 15px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .table-header {
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .table-header:hover {
            background: rgba(255,255,255,0.05);
        }

        .table-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .table-badge {
            margin-left: auto;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: #8892b0;
        }

        .fields-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: rgba(0,0,0,0.2);
        }

        .fields-container.expanded {
            max-height: 1000px;
        }

        .field {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            font-size: 0.85rem;
            border-bottom: 1px solid rgba(255,255,255,0.03);
        }

        .field:last-child {
            border-bottom: none;
        }

        .field-icon {
            width: 20px;
            margin-right: 10px;
            text-align: center;
        }

        .field-name {
            flex: 1;
            color: #e4e4e4;
        }

        .field-type {
            color: #8892b0;
            font-size: 0.8rem;
            font-family: 'Consolas', monospace;
        }

        .pk { color: #ffd700; }
        .fk { color: #00d9ff; }
        .required { color: #ff6b6b; }
        .optional { color: #8892b0; }

        /* Module Colors */
        .module-users .module-icon { background: linear-gradient(135deg, #667eea, #764ba2); }
        .module-users .table-header { border-left: 3px solid #667eea; }

        .module-courses .module-icon { background: linear-gradient(135deg, #f093fb, #f5576c); }
        .module-courses .table-header { border-left: 3px solid #f093fb; }

        .module-media .module-icon { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        .module-media .table-header { border-left: 3px solid #4facfe; }

        .module-quiz .module-icon { background: linear-gradient(135deg, #43e97b, #38f9d7); }
        .module-quiz .table-header { border-left: 3px solid #43e97b; }

        .module-progress .module-icon { background: linear-gradient(135deg, #fa709a, #fee140); }
        .module-progress .table-header { border-left: 3px solid #fa709a; }

        .module-ai .module-icon { background: linear-gradient(135deg, #a18cd1, #fbc2eb); }
        .module-ai .table-header { border-left: 3px solid #a18cd1; }

        .module-payments .module-icon { background: linear-gradient(135deg, #84fab0, #8fd3f4); }
        .module-payments .table-header { border-left: 3px solid #84fab0; }

        .module-social .module-icon { background: linear-gradient(135deg, #ffecd2, #fcb69f); }
        .module-social .table-header { border-left: 3px solid #ffecd2; }

        .module-live .module-icon { background: linear-gradient(135deg, #ff0844, #ffb199); }
        .module-live .table-header { border-left: 3px solid #ff0844; }

        .module-admin .module-icon { background: linear-gradient(135deg, #6a11cb, #2575fc); }
        .module-admin .table-header { border-left: 3px solid #6a11cb; }

        .expand-icon {
            transition: transform 0.3s;
            color: #8892b0;
        }

        .expanded .expand-icon {
            transform: rotate(180deg);
        }

        .search-container {
            max-width: 500px;
            margin: 0 auto 30px;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.05);
            color: #e4e4e4;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: #00d9ff;
        }

        .search-input::placeholder {
            color: #8892b0;
        }

        .relations-info {
            max-width: 1200px;
            margin: 40px auto;
            padding: 25px;
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .relations-info h3 {
            margin-bottom: 20px;
            color: #00d9ff;
        }

        .relation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .relation-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: rgba(255,255,255,0.02);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .relation-arrow {
            color: #00d9ff;
        }

        @media (max-width: 768px) {
            .modules-container {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .stats {
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéì 40Study Database Schema</h1>
        <p>Entity Relationship Diagram - N·ªÅn t·∫£ng gi√°o d·ª•c th√¥ng minh</p>
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number">42</div>
                <div class="stat-label">Tables</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">14</div>
                <div class="stat-label">Modules</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">300+</div>
                <div class="stat-label">Fields</div>
            </div>
        </div>
    </div>

    <div class="legend">
        <div class="legend-item">
            <div class="legend-color" style="background: #ffd700;"></div>
            <span>üîë Primary Key</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #00d9ff;"></div>
            <span>üîó Foreign Key</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ff6b6b;"></div>
            <span>* Required</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #8892b0;"></div>
            <span>‚óã Optional</span>
        </div>
    </div>

    <div class="search-container">
        <input type="text" class="search-input" id="searchInput" placeholder="üîç T√¨m ki·∫øm table ho·∫∑c field...">
    </div>

    <div class="modules-container">
        <!-- 1. Users & Authentication -->
        <div class="module module-users">
            <div class="module-header">
                <div class="module-icon">üë§</div>
                <div class="module-title">Users & Authentication</div>
                <div class="module-count">4 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">users</span>
                    <span class="table-badge">Main</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">email</span><span class="field-type">VARCHAR(255) UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">password_hash</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">user_name</span><span class="field-type">VARCHAR(100)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">full_name</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">avatar_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">phone</span><span class="field-type">VARCHAR(20)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">date_of_birth</span><span class="field-type">DATE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">bio</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">role</span><span class="field-type">ENUM(student, instructor, admin)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_verified</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_active</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">last_login_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">deleted_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">refresh_tokens</span>
                    <span class="table-badge">JWT</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">token_hash</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">device_info</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">ip_address</span><span class="field-type">VARCHAR(45)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">expires_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_revoked</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">verification_codes</span>
                    <span class="table-badge">OTP</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">code</span><span class="field-type">VARCHAR(10)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">type</span><span class="field-type">ENUM(email, phone, password_reset)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">expires_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_used</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">user_oauth_providers</span>
                    <span class="table-badge">OAuth</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">provider</span><span class="field-type">ENUM(google, facebook, github)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">provider_user_id</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">access_token</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">refresh_token</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 2. Categories & Tags -->
        <div class="module module-courses">
            <div class="module-header">
                <div class="module-icon">üìÅ</div>
                <div class="module-title">Categories & Tags</div>
                <div class="module-count">3 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">categories</span>
                    <span class="table-badge">Nested</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">parent_id</span><span class="field-type">UUID ‚Üí categories</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">name</span><span class="field-type">VARCHAR(100)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">slug</span><span class="field-type">VARCHAR(100) UNIQUE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">icon_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">display_order</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_active</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">tags</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">name</span><span class="field-type">VARCHAR(50) UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">slug</span><span class="field-type">VARCHAR(50) UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">course_tags</span>
                    <span class="table-badge">Junction</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses (PK)</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">tag_id</span><span class="field-type">UUID ‚Üí tags (PK)</span></div>
                </div>
            </div>
        </div>

        <!-- 3. Courses & Lessons -->
        <div class="module module-courses">
            <div class="module-header">
                <div class="module-icon">üìö</div>
                <div class="module-title">Courses & Lessons</div>
                <div class="module-count">3 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">courses</span>
                    <span class="table-badge">Main</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">instructor_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">category_id</span><span class="field-type">UUID ‚Üí categories</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">slug</span><span class="field-type">VARCHAR(255) UNIQUE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">short_description</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">thumbnail_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">preview_video_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">level</span><span class="field-type">ENUM(beginner, intermediate, advanced, all_levels)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">language</span><span class="field-type">VARCHAR(10)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">price</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">discount_price</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">discount_expires_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">total_duration_minutes</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">total_lessons</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">total_students</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">average_rating</span><span class="field-type">DECIMAL(2,1)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">total_reviews</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">requirements</span><span class="field-type">TEXT[]</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">objectives</span><span class="field-type">TEXT[]</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">target_audience</span><span class="field-type">TEXT[]</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(draft, pending_review, published, archived)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">published_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_featured</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_free</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">deleted_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">sections</span>
                    <span class="table-badge">Chapter</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">display_order</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">lessons</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">section_id</span><span class="field-type">UUID ‚Üí sections</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">content_type</span><span class="field-type">ENUM(video, article, quiz, assignment, livestream)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">display_order</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">duration_minutes</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_preview</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_mandatory</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 4. Media Content -->
        <div class="module module-media">
            <div class="module-header">
                <div class="module-icon">üé¨</div>
                <div class="module-title">Media Content</div>
                <div class="module-count">3 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">lesson_videos</span>
                    <span class="table-badge">HLS</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">video_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">video_hls_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">thumbnail_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">duration_seconds</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">resolution</span><span class="field-type">VARCHAR(20)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">file_size_bytes</span><span class="field-type">BIGINT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">transcription</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">transcription_status</span><span class="field-type">ENUM(pending, processing, completed, failed)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">lesson_articles</span>
                    <span class="table-badge">Markdown</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">content</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">reading_time_minutes</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">lesson_attachments</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">file_name</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">file_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">file_type</span><span class="field-type">VARCHAR(50)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">file_size_bytes</span><span class="field-type">BIGINT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">download_count</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 5. Quiz & Assessment -->
        <div class="module module-quiz">
            <div class="module-header">
                <div class="module-icon">üìù</div>
                <div class="module-title">Quiz & Assessment</div>
                <div class="module-count">5 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">quizzes</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons UNIQUE</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">time_limit_minutes</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">pass_percentage</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">max_attempts</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">shuffle_questions</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">shuffle_answers</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">show_correct_answers</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_ai_generated</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">questions</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">quiz_id</span><span class="field-type">UUID ‚Üí quizzes</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">question_text</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">question_type</span><span class="field-type">ENUM(single_choice, multiple_choice, true_false, fill_blank, essay)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">explanation</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">points</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">display_order</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">image_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_ai_generated</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">question_answers</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">question_id</span><span class="field-type">UUID ‚Üí questions</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">answer_text</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_correct</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">display_order</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">quiz_attempts</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">quiz_id</span><span class="field-type">UUID ‚Üí quizzes</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">score</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">total_points</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">percentage</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">is_passed</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">time_spent_seconds</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">started_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">completed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">quiz_attempt_answers</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">attempt_id</span><span class="field-type">UUID ‚Üí quiz_attempts</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">question_id</span><span class="field-type">UUID ‚Üí questions</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">selected_answer_ids</span><span class="field-type">UUID[]</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">text_answer</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">is_correct</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">points_earned</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 6. Progress & Enrollments -->
        <div class="module module-progress">
            <div class="module-header">
                <div class="module-icon">üìà</div>
                <div class="module-title">Progress & Enrollments</div>
                <div class="module-count">3 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">enrollments</span>
                    <span class="table-badge">Main</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">enrolled_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">expires_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">progress_percentage</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">completed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">last_accessed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">certificate_id</span><span class="field-type">UUID ‚Üí certificates</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">lesson_progress</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">enrollment_id</span><span class="field-type">UUID ‚Üí enrollments</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(not_started, in_progress, completed)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">progress_percentage</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">video_watched_seconds</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">completed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">last_accessed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">user_notes</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">content</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">video_timestamp_seconds</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_bookmarked</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 7. AI & Personalization -->
        <div class="module module-ai">
            <div class="module-header">
                <div class="module-icon">ü§ñ</div>
                <div class="module-title">AI & Personalization</div>
                <div class="module-count">6 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">learning_paths</span>
                    <span class="table-badge">AI</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">goal</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">estimated_duration_days</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_ai_generated</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(active, completed, paused, abandoned)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">started_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">completed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">learning_path_courses</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">learning_path_id</span><span class="field-type">UUID ‚Üí learning_paths</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">display_order</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_required</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">reason</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">ai_recommendations</span>
                    <span class="table-badge">AI</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">recommendation_type</span><span class="field-type">ENUM(course, lesson, quiz, learning_path, review)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">target_id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">reason</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">confidence_score</span><span class="field-type">DECIMAL(3,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_dismissed</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_acted_upon</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">expires_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">ai_chat_sessions</span>
                    <span class="table-badge">Chatbot</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">ai_chat_messages</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">session_id</span><span class="field-type">UUID ‚Üí ai_chat_sessions</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">role</span><span class="field-type">ENUM(user, assistant, system)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">content</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">tokens_used</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">user_learning_analytics</span>
                    <span class="table-badge">Analytics</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">analysis_date</span><span class="field-type">DATE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">total_study_time_minutes</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">lessons_completed</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">quizzes_completed</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">average_quiz_score</span><span class="field-type">DECIMAL(5,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">streak_days</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">strong_topics</span><span class="field-type">TEXT[]</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">weak_topics</span><span class="field-type">TEXT[]</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">learning_style</span><span class="field-type">VARCHAR(30)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">ai_insights</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 8. Payments -->
        <div class="module module-payments">
            <div class="module-header">
                <div class="module-icon">üí≥</div>
                <div class="module-title">Payments & Transactions</div>
                <div class="module-count">5 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">orders</span>
                    <span class="table-badge">Main</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">order_number</span><span class="field-type">VARCHAR(50) UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">subtotal</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">discount_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">tax_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">total_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">currency</span><span class="field-type">VARCHAR(3)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(pending, processing, completed, failed, refunded, cancelled)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">payment_method</span><span class="field-type">VARCHAR(30)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">payment_gateway</span><span class="field-type">VARCHAR(30)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">payment_transaction_id</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">paid_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">coupon_id</span><span class="field-type">UUID ‚Üí coupons</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">notes</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">order_items</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">order_id</span><span class="field-type">UUID ‚Üí orders</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">price</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">discount_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">final_price</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">coupons</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">code</span><span class="field-type">VARCHAR(50) UNIQUE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">discount_type</span><span class="field-type">ENUM(percentage, fixed_amount)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">discount_value</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">min_purchase_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">max_discount_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">usage_limit</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">usage_count</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">per_user_limit</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">applicable_course_ids</span><span class="field-type">UUID[]</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">starts_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">expires_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_active</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">coupon_usages</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">coupon_id</span><span class="field-type">UUID ‚Üí coupons</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">order_id</span><span class="field-type">UUID ‚Üí orders</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">discount_amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">instructor_payouts</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">instructor_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">amount</span><span class="field-type">DECIMAL(12,2)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">currency</span><span class="field-type">VARCHAR(3)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(pending, processing, completed, failed)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">payment_method</span><span class="field-type">VARCHAR(50)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">bank_name</span><span class="field-type">VARCHAR(100)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">bank_account_number</span><span class="field-type">VARCHAR(50)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">bank_account_name</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">transaction_id</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">period_start</span><span class="field-type">DATE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">period_end</span><span class="field-type">DATE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">processed_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">notes</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 9. Social Features -->
        <div class="module module-social">
            <div class="module-header">
                <div class="module-icon">üí¨</div>
                <div class="module-title">Reviews & Discussions</div>
                <div class="module-count">4 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">reviews</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">rating</span><span class="field-type">INT (1-5)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">content</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_verified_purchase</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">helpful_count</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">reported_count</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">instructor_reply</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">instructor_replied_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_featured</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_hidden</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">review_reactions</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">review_id</span><span class="field-type">UUID ‚Üí reviews</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">reaction_type</span><span class="field-type">ENUM(helpful, not_helpful, report)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">discussions</span>
                    <span class="table-badge">Threaded</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">parent_id</span><span class="field-type">UUID ‚Üí discussions</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">content</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">video_timestamp_seconds</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">upvote_count</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_pinned</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_instructor_answer</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_hidden</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">discussion_votes</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">discussion_id</span><span class="field-type">UUID ‚Üí discussions</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">vote_type</span><span class="field-type">ENUM(upvote, downvote)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 10. Livestream -->
        <div class="module module-live">
            <div class="module-header">
                <div class="module-icon">üì∫</div>
                <div class="module-title">Livestream</div>
                <div class="module-count">3 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">livestreams</span>
                    <span class="table-badge">Main</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">instructor_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">lesson_id</span><span class="field-type">UUID ‚Üí lessons</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">thumbnail_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">stream_key</span><span class="field-type">VARCHAR(100) UNIQUE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">stream_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(scheduled, live, ended, cancelled)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">scheduled_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">started_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">ended_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">max_viewers</span><span class="field-type">INT</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">recording_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_recorded</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">livestream_viewers</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">livestream_id</span><span class="field-type">UUID ‚Üí livestreams</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">joined_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">left_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">watch_duration_seconds</span><span class="field-type">INT</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">livestream_chats</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">livestream_id</span><span class="field-type">UUID ‚Üí livestreams</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">message</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_pinned</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_deleted</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 11. Admin & System -->
        <div class="module module-admin">
            <div class="module-header">
                <div class="module-icon">‚öôÔ∏è</div>
                <div class="module-title">Admin & System</div>
                <div class="module-count">5 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">certificates</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">enrollment_id</span><span class="field-type">UUID ‚Üí enrollments</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">certificate_number</span><span class="field-type">VARCHAR(50) UNIQUE</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">certificate_url</span><span class="field-type">VARCHAR(500)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">issued_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">notifications</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">title</span><span class="field-type">VARCHAR(255)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">content</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">notification_type</span><span class="field-type">ENUM(...)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">reference_type</span><span class="field-type">VARCHAR(30)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">reference_id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">is_read</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">read_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">notification_settings</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users UNIQUE</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">email_course_updates</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">email_promotions</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">email_recommendations</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">push_course_updates</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">push_quiz_reminders</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">push_promotions</span><span class="field-type">BOOLEAN</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">updated_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">activity_logs</span>
                    <span class="table-badge">Audit</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">action</span><span class="field-type">VARCHAR(50)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">entity_type</span><span class="field-type">VARCHAR(50)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">entity_id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">old_values</span><span class="field-type">JSONB</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">new_values</span><span class="field-type">JSONB</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">ip_address</span><span class="field-type">VARCHAR(45)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">user_agent</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">reports</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">reporter_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">reported_type</span><span class="field-type">ENUM(...)</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">reported_id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">reason</span><span class="field-type">ENUM(spam, inappropriate, copyright, harassment, other)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">description</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">status</span><span class="field-type">ENUM(pending, reviewing, resolved, dismissed)</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">admin_notes</span><span class="field-type">TEXT</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">resolved_by</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon optional">‚óã</span><span class="field-name">resolved_at</span><span class="field-type">TIMESTAMP</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>

        <!-- 12. Cart & Wishlist -->
        <div class="module module-payments">
            <div class="module-header">
                <div class="module-icon">üõí</div>
                <div class="module-title">Cart & Wishlist</div>
                <div class="module-count">2 tables</div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">wishlists</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">created_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>

            <div class="table-card">
                <div class="table-header" onclick="toggleTable(this)">
                    <span class="table-name">cart_items</span>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="fields-container">
                    <div class="field"><span class="field-icon pk">üîë</span><span class="field-name">id</span><span class="field-type">UUID</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">user_id</span><span class="field-type">UUID ‚Üí users</span></div>
                    <div class="field"><span class="field-icon fk">üîó</span><span class="field-name">course_id</span><span class="field-type">UUID ‚Üí courses</span></div>
                    <div class="field"><span class="field-icon required">*</span><span class="field-name">added_at</span><span class="field-type">TIMESTAMP</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Key Relations -->
    <div class="relations-info">
        <h3>üîó Key Relationships</h3>
        <div class="relation-grid">
            <div class="relation-item">
                <span>users</span>
                <span class="relation-arrow">‚Üí</span>
                <span>courses (instructor)</span>
            </div>
            <div class="relation-item">
                <span>users</span>
                <span class="relation-arrow">‚Üí</span>
                <span>enrollments (student)</span>
            </div>
            <div class="relation-item">
                <span>courses</span>
                <span class="relation-arrow">‚Üí</span>
                <span>sections ‚Üí lessons</span>
            </div>
            <div class="relation-item">
                <span>lessons</span>
                <span class="relation-arrow">‚Üí</span>
                <span>lesson_videos / lesson_articles</span>
            </div>
            <div class="relation-item">
                <span>lessons</span>
                <span class="relation-arrow">‚Üí</span>
                <span>quizzes ‚Üí questions</span>
            </div>
            <div class="relation-item">
                <span>enrollments</span>
                <span class="relation-arrow">‚Üí</span>
                <span>lesson_progress</span>
            </div>
            <div class="relation-item">
                <span>users</span>
                <span class="relation-arrow">‚Üí</span>
                <span>learning_paths (AI)</span>
            </div>
            <div class="relation-item">
                <span>orders</span>
                <span class="relation-arrow">‚Üí</span>
                <span>order_items ‚Üí courses</span>
            </div>
        </div>
    </div>

    <script>
        function toggleTable(header) {
            const fieldsContainer = header.nextElementSibling;
            const isExpanded = fieldsContainer.classList.contains('expanded');

            if (isExpanded) {
                fieldsContainer.classList.remove('expanded');
                header.classList.remove('expanded');
            } else {
                fieldsContainer.classList.add('expanded');
                header.classList.add('expanded');
            }
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const tableCards = document.querySelectorAll('.table-card');

            tableCards.forEach(card => {
                const tableName = card.querySelector('.table-name').textContent.toLowerCase();
                const fields = card.querySelectorAll('.field-name');
                let fieldMatch = false;

                fields.forEach(field => {
                    if (field.textContent.toLowerCase().includes(searchTerm)) {
                        fieldMatch = true;
                    }
                });

                if (tableName.includes(searchTerm) || fieldMatch || searchTerm === '') {
                    card.style.display = 'block';
                    if (searchTerm !== '' && (tableName.includes(searchTerm) || fieldMatch)) {
                        card.querySelector('.fields-container').classList.add('expanded');
                        card.querySelector('.table-header').classList.add('expanded');
                    }
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Expand all on load for demo
        document.querySelectorAll('.table-header').forEach(header => {
            // Keep collapsed by default
        });
    </script>
</body>
</html>
